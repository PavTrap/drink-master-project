"use strict";(self.webpackChunkdrink_master_project=self.webpackChunkdrink_master_project||[]).push([[220],{7003:function(e,n,t){t.d(n,{D:function(){return i},b:function(){return r}});var r=function(e,n){localStorage.setItem("".concat(e),JSON.stringify(n))},i=function(e){var n=localStorage.getItem("".concat(e));return JSON.parse(n)}},7944:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(5861),i=t(9439),a=t(4687),s=t.n(a),c=t(2791),o=t(5118),_=t(1087),l=t.p+"static/media/HeroGlassImage.8f480c571fce36a67c5e.png",d=t.p+"static/media/mobileHeroImage.d9b565ad37a697e26683.png",u=t(3329),m=function(){var e=(0,c.useState)(!1),n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,c.useEffect)((function(){var e=function(){r(window.innerWidth<=767)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,u.jsxs)("section",{className:o.Z.hero_section,children:[(0,u.jsxs)("h1",{className:o.Z.hero_title,children:["Craft Your Perfect",(0,u.jsx)("br",{})," Drink with Drink Master"]}),(0,u.jsxs)("p",{className:o.Z.main_p,children:["Unlock your inner mixologist with Drink Master, your one-",(0,u.jsx)("br",{}),"stop destination for exploring, crafting, and mastering the",(0,u.jsx)("br",{})," world's finest beverages."]}),t?(0,u.jsx)("img",{className:o.Z.hero_image,src:d,alt:"Hero Nice Glass"}):(0,u.jsx)("img",{className:o.Z.hero_image,src:l,alt:"Hero Nice Glass"}),(0,u.jsx)(_.rU,{className:o.Z.hero_button,to:"/add",children:"Add recipe"})]})},g=function(e){var n=e.drink,t=e.drinkThumb,r=e.id,i=e.popup,a=i.map((function(e){return null!==e&&void 0!==e&&e.title?e.title:""})).toString().split(",").join(", ");return(0,u.jsx)("li",{className:"".concat(o.Z.mainPageList_item," ").concat(o.Z.card),title:a,children:(0,u.jsxs)(_.rU,{to:"/recipe/".concat(r),children:[(0,u.jsx)("img",{src:t,alt:"drink",height:400,className:o.Z.image}),(0,u.jsxs)("div",{className:o.Z.card_text_wrapper,children:[(0,u.jsx)("p",{className:o.Z.card_name,children:n}),(0,u.jsx)("p",{className:o.Z.ingredients_text,children:"ingredients "})]})]})})};var h=function(e){var n=e.collection,t=e.title;return(0,u.jsxs)("li",{children:[(0,u.jsx)(_.rU,{to:"/drinks/".concat(t),children:(0,u.jsx)("h2",{className:o.Z.category_title,children:t})}),(0,u.jsx)("ul",{className:o.Z.mainPageList,children:0!==n.length&&n.map((function(e){var n=e.drink,t=e.drinkThumb,r=e._id,i=e.ingredients;return(0,u.jsx)(g,{drink:n,drinkThumb:t,id:r,popup:i},r)}))})]})},p=t(1243),f=t(6163),x=t(7003),j=function(){var e=(0,r.Z)(s().mark((function e(){var n,t,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,x.D)("persist:auth"),t=JSON.parse(null===n||void 0===n?void 0:n.token),e.prev=2,(0,f.Z)(t),e.next=6,p.Z.get("/api/recipes/main-page");case 6:return r=e.sent,i=r.data,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),k=t(6949),v=function(e){var n=e.children;return(0,u.jsx)(u.Fragment,{children:n})},Z=function(){var e=(0,c.useState)(null),n=(0,i.Z)(e,2),t=n[0],a=n[1];return(0,c.useEffect)((function(){if((0,x.D)("main-page")){var e=(0,x.D)("main-page");e&&a(e)}else(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:(n=e.sent)&&(0,x.b)("main-page",n),n&&a(n);case 5:case"end":return e.stop()}}),e)})))()}),[]),(0,u.jsxs)("div",{className:o.Z.main,children:[(0,u.jsx)(m,{}),(0,u.jsx)(v,{children:(0,u.jsxs)("section",{className:o.Z.drinks_section,children:[(0,u.jsx)("ul",{children:(0,u.jsx)(c.Suspense,{fallBack:(0,u.jsx)(k.Z,{}),children:t&&t.sort((function(e,n){return n.items.length-e.items.length})).slice(0,4).map((function(e){return e.items.length>0&&(0,u.jsx)(h,{title:e.category,collection:e.items},e._id)}))})}),t&&(0,u.jsx)(_.rU,{className:"".concat(o.Z.other_drinks_btn," ").concat(o.Z.other_drinks_btn),to:"/drinks",children:"Other drinks"})]})})]})}},5118:function(e,n){n.Z={mainPageList:"MainPage_mainPageList__ILvfc",image:"MainPage_image__8u-Jk",mainPageList_item:"MainPage_mainPageList_item__4l8cZ",card:"MainPage_card__4qTM6",hero_title:"MainPage_hero_title__8zPus",main_p:"MainPage_main_p__hjLn3",drinks_section:"MainPage_drinks_section__KWdPh",hero_section_wrapper:"MainPage_hero_section_wrapper__in5cU",hero_section:"MainPage_hero_section__uNAmo",hero_button:"MainPage_hero_button__rWCEs",other_drinks_btn:"MainPage_other_drinks_btn__4oIzj",category_title:"MainPage_category_title__aQKj2",card_name:"MainPage_card_name__xqAN-",ingredients_text:"MainPage_ingredients_text__zUAyx",card_link:"MainPage_card_link__beete",card_text_wrapper:"MainPage_card_text_wrapper__4i+lI"}}}]);
//# sourceMappingURL=220.46882b3e.chunk.js.map