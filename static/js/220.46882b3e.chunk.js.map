{"version":3,"file":"static/js/220.46882b3e.chunk.js","mappings":"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","sources":["helpers/localStorageApi.js","pages/MainPage/MainHero.jsx","pages/MainPage/DrinkCard.jsx","pages/MainPage/CategoryList.jsx","pages/MainPage/featchApi.js","pages/MainPage/MainPage.jsx","webpack://drink-master-project/./src/pages/MainPage/MainPage.module.css?04b3"],"sourcesContent":["export const writeToLoaclStore = (key, value) =>{\n    localStorage.setItem(`${key}`, JSON.stringify(value))\n}\n\nexport  const readFromLocalStore=(key)=>{\n    const res = localStorage.getItem(`${key}`);\n    const data =JSON.parse(res)\n    return data\n}\n\n\n","import css from './MainPage.module.css';\nimport { Link } from 'react-router-dom';\nimport glassImage from './HeroGlassImage.png';\nimport glassImageMobile from './mobileHeroImage.png';\nimport { useEffect, useState } from 'react';\n\nconst MainHero = () => {\n\n  const [isMobile, setIsMobile]=useState(false)\n\n  useEffect(() => {\n    const handleWindowResize = () => {\n      setIsMobile(window.innerWidth <= 767);\n    };\n    handleWindowResize();\n    window.addEventListener('resize', handleWindowResize);\n    return () => {\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, []);\n\n\n\n  return (\n    <section className={css.hero_section}>\n      <h1 className={css.hero_title}>\n        Craft Your Perfect\n        <br /> Drink with Drink Master\n      </h1>\n      <p className={css.main_p}>\n        Unlock your inner mixologist with Drink Master, your one-\n        <br />\n        stop destination for exploring, crafting, and mastering the\n        <br /> world's finest beverages.\n      </p>\n     { isMobile ? ( <img className={css.hero_image} src={glassImageMobile} alt=\"Hero Nice Glass\" />) : ( <img className={css.hero_image} src={glassImage} alt=\"Hero Nice Glass\" />)}\n\n     \n      <Link className={css.hero_button} to={'/add'}>\n        Add recipe\n      </Link>\n    </section>\n  );\n};\nexport default MainHero;\n","import css from './MainPage.module.css';\nimport { Link } from 'react-router-dom';\n\nconst DrinkCard = ({ drink, drinkThumb, id, popup }) => {\n\n  const title = getIngredientsList(popup);\n  return (\n    <li className={`${css.mainPageList_item} ${css.card}`} title={title}>\n      <Link to={`/recipe/${id}`}>\n        \n        <img src={drinkThumb} alt=\"drink\" height={400} className={css.image}/>\n        <div className={css.card_text_wrapper}>\n          <p className={css.card_name}>{drink}</p>\n\n          <p className={css.ingredients_text}>ingredients </p>\n        </div>\n      </Link>\n    </li>\n  );\n};\nexport default DrinkCard;\n\nfunction getIngredientsList(ingredientList) {\n  const array = ingredientList.map(item => (item?.title ? item.title : ''));\n  return array.toString().split(',').join(', ');\n}\n","import { Link } from 'react-router-dom';\nimport css from './MainPage.module.css';\nimport DrinkCard from './DrinkCard';\n// import imgSrc from './img/plug-glass-400x400.png';\n\nconst CategoryList = ({  collection, title }) => {\n  return (\n    <li>\n      <Link to={`/drinks/${title}`}>\n        <h2 className={css.category_title}>{title}</h2>\n      </Link>\n      <ul className={css.mainPageList}>\n        {collection.length !== 0 &&\n          collection.map(({ drink, drinkThumb, _id, ingredients}) => <DrinkCard key={_id} drink={drink} drinkThumb={drinkThumb} id={_id} popup={ingredients}/>)}\n      </ul>\n    </li>\n  );\n};\n\nexport default CategoryList;\n","import axios from \"axios\";\nimport setAuthHeader from \"helpers/axiosHedder\";\nimport { readFromLocalStore } from \"helpers/localStorageApi\";\n\nexport const fetchDrinks = async ()=> {\n \n  const data = readFromLocalStore('persist:auth')\n  const parsedPersistedToken = JSON.parse(data?.token)\n\n\n    try {\n      setAuthHeader(parsedPersistedToken)\n      const { data } = await axios.get(`/api/recipes/main-page`);\n\n      return data;\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  ","import { Suspense, useEffect, useState } from 'react';\nimport css from './MainPage.module.css';\n\nimport MainHero from './MainHero';\nimport CategoryList from './CategoryList';\nimport { fetchDrinks } from './featchApi';\nimport { writeToLoaclStore, readFromLocalStore } from 'helpers/localStorageApi';\nimport { Link } from 'react-router-dom';\nimport Dots from 'components/Spinner/Dots';\n\nconst PreviewDrinks = ({ children }) => <>{children}</>;\n\nconst MainPage = () => {\n  const [allDrinks, setAllDrinks] = useState(null);\n \n\n  useEffect(() => {\n    if (!readFromLocalStore('main-page')) {\n      (async () => {\n        const data = await fetchDrinks();\n        data && writeToLoaclStore('main-page', data);\n        data && setAllDrinks(data);\n \n      })();\n    } else {\n \n      const data = readFromLocalStore('main-page');\n      data && setAllDrinks(data);\n    }\n  }, []);\n\n  return (\n    <div className={css.main}>\n      <MainHero />\n      <PreviewDrinks>\n        <section className={css.drinks_section}>\n          <ul>\n            <Suspense fallBack={<Dots />} >\n              {allDrinks &&\n\n                allDrinks.sort((a, b) => b.items.length - a.items.length).slice(0,4).map(\n                  item => item.items.length > 0 && <CategoryList title={item.category} collection={item.items} key={item._id} />\n                )}\n            </Suspense>\n          </ul>\n\n            {allDrinks && (\n              <Link className={`${css.other_drinks_btn} ${css.other_drinks_btn}`} to={'/drinks'}>\n                Other drinks\n              </Link>\n            )}\n          </section>\n        </PreviewDrinks>\n    </div>\n  );\n};\n\nexport default MainPage;\n \n//   const separateDrinks = drinks => {\n//     if (!allDrinks) return;\n\n//     const ordinaryDrinks = [];\n//     const cocktails = [];\n//     const shakes = [];\n//     const otherDrinks = [];\n\n//     for (const drink of drinks) {\n//       if (drink.category === 'Ordinary Drink') ordinaryDrinks.push(drink);\n//       if (drink.category === 'Cocktail') cocktails.push(drink);\n//       if (drink.category === 'Snake') shakes.push(drink);\n//       if (drink.category === 'Other/Unknow') otherDrinks.push(drink);\n//     }\n\n//     const getedDrinks = {\n//       'ordinary drink': ordinaryDrinks[0].items,\n\n//       // \"ordinary drink\": {\n//       // \t\"category\": \"ordinary drink\",\n//       // \t\"drinks\": ordinaryDrinks[0].items,\n//       // },\n\n//       coctail: cocktails[0].items,\n//       shake: shakes[0].items,\n//       'other/unknown': otherDrinks[0].items,\n//     };\n\n//     // const categoriesDrinks = Object.keys(getedDrinks);\n//     // console.log(categoriesDrinks);\n\n//     // console.log(getedDrinks);\n//     return getedDrinks;\n//   };\n\n//   const getedDrinks = separateDrinks(allDrinks);\n\n/* <ul>\n            {allDrinks && (\n              <>\n                <Link to={'/drinks/ordinary-drink'}>\n                  <h2>Ordinary Drink</h2>\n                </Link>\n                <ul className={css.mainPageList}>\n                  {getedDrinks['ordinary drink'].length !== 0 ? (\n                    getedDrinks['ordinary drink'].map(({ drink, drinkThumb, _id }) => (\n                      <DrinkCard key={_id} drink={drink} drinkThumb={drinkThumb} />\n                    ))\n                  ) : (\n                    <DrinkCard drink=\"Drink\" drinkThumb={imgSrc} />\n                  )}\n                </ul>\n              </>\n            )}\n            {allDrinks && (\n              <>\n                <Link to={'/drinks/coctail'}>\n                  <h2>Coctail</h2>\n                </Link>\n                <ul className={css.mainPageList}>\n                  {getedDrinks.coctail.length !== 0 ? (\n                    getedDrinks.coctail.map(({ drink, drinkThumb, _id }) => <DrinkCard key={_id} drink={drink} drinkThumb={drinkThumb} />)\n                  ) : (\n                    <DrinkCard drink=\"Drink\" drinkThumb={imgSrc} />\n                  )}\n                </ul>\n              </>\n            )}\n            {allDrinks && (\n              <>\n                <Link to={'/drinks/shake'}>\n                  <h2>Shake</h2>\n                </Link>\n                <ul className={css.mainPageList}>\n                  {getedDrinks.shake.length !== 0 ? (\n                    getedDrinks.shake.map(({ drink, drinkThumb, _id }) => <DrinkCard key={_id} drink={drink} drinkThumb={drinkThumb} />)\n                  ) : (\n                    <DrinkCard drink=\"Drink\" drinkThumb={imgSrc} />\n                  )}\n                </ul>\n              </>\n            )}\n            {allDrinks && (\n              <>\n                <Link to={'/drinks/other-unknown'}>\n                  <h2>Other/Unknown</h2>\n                </Link>\n                <ul className={css.mainPageList}>\n                  {getedDrinks['other/unknown'].length !== 0 ? (\n                    getedDrinks['other/unknown'].map(({ drink, drinkThumb, _id }) => (\n                      <DrinkCard key={_id} drink={drink} drinkThumb={drinkThumb} />\n                    ))\n                  ) : (\n                    <DrinkCard drink=\"Drink\" drinkThumb={imgSrc} />\n                  )}\n                </ul>\n              </>\n            )}\n          </ul> */ \n","// extracted by mini-css-extract-plugin\nexport default {\"mainPageList\":\"MainPage_mainPageList__ILvfc\",\"image\":\"MainPage_image__8u-Jk\",\"mainPageList_item\":\"MainPage_mainPageList_item__4l8cZ\",\"card\":\"MainPage_card__4qTM6\",\"hero_title\":\"MainPage_hero_title__8zPus\",\"main_p\":\"MainPage_main_p__hjLn3\",\"drinks_section\":\"MainPage_drinks_section__KWdPh\",\"hero_section_wrapper\":\"MainPage_hero_section_wrapper__in5cU\",\"hero_section\":\"MainPage_hero_section__uNAmo\",\"hero_button\":\"MainPage_hero_button__rWCEs\",\"other_drinks_btn\":\"MainPage_other_drinks_btn__4oIzj\",\"category_title\":\"MainPage_category_title__aQKj2\",\"card_name\":\"MainPage_card_name__xqAN-\",\"ingredients_text\":\"MainPage_ingredients_text__zUAyx\",\"card_link\":\"MainPage_card_link__beete\",\"card_text_wrapper\":\"MainPage_card_text_wrapper__4i+lI\"};"],"names":["writeToLoaclStore","key","value","localStorage","setItem","JSON","stringify","readFromLocalStore","res","getItem","parse","useState","isMobile","setIsMobile","useEffect","handleWindowResize","window","innerWidth","addEventListener","removeEventListener","className","css","hero_section","hero_title","main_p","hero_image","src","glassImageMobile","alt","glassImage","hero_button","to","drink","drinkThumb","id","popup","title","map","item","toString","split","join","mainPageList_item","card","height","image","card_text_wrapper","card_name","ingredients_text","collection","category_title","mainPageList","length","_id","ingredients","fetchDrinks","data","parsedPersistedToken","token","setAuthHeader","axios","get","console","log","PreviewDrinks","children","allDrinks","setAllDrinks","main","drinks_section","Suspense","fallBack","Dots","sort","a","b","items","slice","category","other_drinks_btn"],"sourceRoot":""}